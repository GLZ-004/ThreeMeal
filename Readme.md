# 三季（四季三餐）APP 开发文档

## 1. 项目简介

**三季（四季三餐）** 是一款帮助用户记录每日三餐及用餐心情的本地安卓APP。用户可通过拍照或本地上传方式添加食物卡片，便捷地记录每一餐的内容、心情及备注，并可通过日历回顾和导出历史记录。

---

## 2. 主要功能

### 2.1 三餐记录
- 主界面提供"早餐"、"午餐"、"晚餐"三个按钮，点击进入对应餐次的记录页面。
- 每次记录可选择食物卡片（也可以新建食物卡片再选择）、用餐心情（如：Happy、Just so so、Terrible）、添加备注。
- 支持多张食物卡片同时记录。
- 支持自定义心情选项。

### 2.2 食物卡片管理
- 支持通过拍照或本地上传图片创建食物卡片。
- 每张卡片包含：图片、名称、价格、类型（外卖/自制/堂食）、备注。
- 支持卡片的增删改查及多选删除。
- 食物卡片可分类管理，便于查找。

### 2.3 日历与历史记录
- 主界面左上角显示当天日期，点击可进入日历界面。
- 日历界面可查看任意日期的三餐记录，支持左右滑动切换月份。
- 历史记录可导出为图片、PDF或CSV格式。

### 2.4 数据导出与隐私
- 所有数据均存储在本地，用户可随时导出或删除数据。
- 明确告知用户数据仅存储于本地设备，保障隐私安全。

### 2.5 个性化与激励
- 支持自定义餐次（如加餐、夜宵）。
- 增加打卡、成就系统，激励用户持续记录。

---

## 3. 技术架构

### 3.1 技术选型
- **开发语言**：Kotlin（推荐）或 Java
- **UI框架**：Jetpack Compose（推荐）或 XML
- **本地数据库**：Room
- **图片处理**：Glide/Picasso（图片加载）、CameraX（拍照）
- **日历控件**：MaterialCalendarView 或自定义
- **导出功能**：PDF/图片/CSV生成库

### 3.2 主要数据结构

```kotlin
// 食物卡片
data class FoodCard(
    val id: Long,
    val name: String,
    val imageUri: String,
    val price: Float,
    val type: String, // 外卖/自制/堂食
    val note: String?
)

// 一日三餐记录
data class MealRecord(
    val date: LocalDate,
    val mealType: String, // breakfast/lunch/dinner
    val foodCardIds: List<Long>,
    val mood: String,
    val note: String?
)
```

---

## 4. 功能模块划分

| 模块         | 主要功能                                                         |
| ------------ | --------------------------------------------------------------- |
| 主界面       | 显示日期、三餐按钮、心情选择、跳转到记录/日历/卡片管理页面         |
| 记录页面     | 选择食物卡片、心情、备注，保存记录                                 |
| 日历页面     | 查看历史记录，支持日期切换、跳转到详情                             |
| 食物卡片管理 | 增删改查卡片，图片上传/拍照，分类管理，多选删除                    |
| 数据导出     | 导出历史记录为图片、PDF、CSV                                      |
| 设置         | 心情自定义、餐次自定义、数据导出/删除、隐私说明                    |
| 激励系统     | 打卡、成就展示                                                   |

---

## 5. 开发流程建议

1. **项目初始化**  
   - 创建项目，配置依赖库（Room、Glide、CameraX等）

2. **主界面开发**  
   - 实现日期显示、三餐按钮、心情选择UI

3. **数据库设计与实现**  
   - 定义数据表结构，完成Room数据库集成

4. **食物卡片管理模块**  
   - 实现卡片的增删改查、图片上传/拍照、分类管理

5. **三餐记录功能**  
   - 实现记录页面，支持选择卡片、心情、备注

6. **日历与历史记录**  
   - 集成日历控件，实现历史记录查询与展示

7. **数据导出与隐私设置**  
   - 实现导出功能，完善隐私说明和数据管理

8. **个性化与激励系统**  
   - 实现自定义心情/餐次、打卡与成就系统

9. **UI/UX优化与测试**  
   - 优化界面细节，完善交互体验，全面测试

10. **上线发布**  
    - 打包、发布到应用市场

---

## 6. UI设计建议

- 主色调简洁明快，风格偏Apple风格
- 三餐按钮用图标+文字，提升辨识度
- 食物卡片为正方形，带圆角，图片为封面
- 日历界面简洁，支持滑动切换
- 心情选择用表情符号，操作直观

---

## 7. 其他说明

- 本APP为本地应用，不涉及云端存储
- 用户数据安全、隐私为首要考虑
- 后续可扩展如营养分析、健康建议等功能

---